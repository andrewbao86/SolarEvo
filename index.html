<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BESS Capacity Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600&display=swap">
</head>
<body>
    <div class="container">
        <header>
            <img src="bao-service-logo.svg" alt="Bao Service Logo" class="logo">
            <h1>BESS Capacity Calculator</h1>
            <p>Calculate your battery energy storage system requirements</p>
        </header>

        <main>
            <section class="device-list">
                <div class="device-list-header">
                    <h2>Devices</h2>
                    <button class="clear-all-button" id="clear-all" data-tooltip="Remove all devices">Clear All</button>
                </div>
                <div id="devices-container">
                    <!-- Device entries will be added here dynamically -->
                </div>
            </section>

            <section class="device-input">
                <div class="input-row">
                    <div class="input-group">
                        <label for="device">Device</label>
                        <input type="text" id="device" placeholder="e.g., Fridge, Lamp" list="device-suggestions" data-tooltip="Select from common devices or enter your own">
                        <datalist id="device-suggestions">
                            <!-- Device suggestions will be added dynamically -->
                        </datalist>
                    </div>
                    <div class="input-group">
                        <label for="power">Power (W)</label>
                        <input type="number" id="power" placeholder="e.g., 250" data-tooltip="Device power consumption in watts">
                    </div>
                    <div class="input-group">
                        <label for="quantity">Quantity</label>
                        <input type="number" id="quantity" placeholder="e.g., 1" value="1" min="1" data-tooltip="Number of identical devices">
                    </div>
                    <div class="input-group">
                        <label for="operating-hours">Operating Hours</label>
                        <input type="number" id="operating-hours" placeholder="e.g., 24" min="0" max="24" data-tooltip="Hours per day the device operates">
                    </div>
                    <div class="input-group">
                        <label for="battery-hours">Hours on Battery</label>
                        <input type="number" id="battery-hours" placeholder="e.g., 12" min="0" max="24" data-tooltip="Hours per day the device runs on battery">
                    </div>
                    <button id="add-device" class="add-button" data-tooltip="Add device to list">Add</button>
                </div>
            </section>

            <section class="results">
                <h2>Results</h2>
                <div class="result-cards">
                    <div class="result-card">
                        <h3>Total Daily Energy</h3>
                        <p id="total-energy">0 kWh</p>
                    </div>
                    <div class="result-card">
                        <h3>Battery Capacity Required</h3>
                        <p id="battery-capacity">0 kWh</p>
                    </div>
                    <div class="result-card">
                        <h3>Recommended BESS Size</h3>
                        <p id="recommended-size">0 kWh</p>
                    </div>
                    <div class="result-card">
                        <h3>SolarEvo BESS Recommendation</h3>
                        <p id="solarevo-recommendation">-</p>
                        <button id="download-pdf" class="report-button">Download PDF Report</button>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>© 2025 SolarEvo | Bao Service</p>
        </footer>
    </div>

    <!-- Theme toggle button -->
    <button class="theme-toggle" id="theme-toggle" data-tooltip="Toggle dark mode">
        <span class="theme-icon">☀️</span>
    </button>
    
    <!-- Include jsPDF library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script>
        // Initialize jsPDF
        window.jsPDF = window.jspdf.jsPDF;
    </script>
    <script src="script.js"></script>
</body>
</html>